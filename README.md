100% GPT README Made
---

````markdown
# üõ∞Ô∏è Telegram VPN Bot ‚Äî Pien VPN

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ VPN-–∫–ª—é—á–µ–π —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π, –æ–ø–ª–∞—Ç–æ–π —á–µ—Ä–µ–∑ –ÆKassa –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ–±–Ω—ã–π –∫–ª—é—á (1 —Ä–∞–∑ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- üîë –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ VPN-–∫–ª—é—á–µ–π —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å `3x-ui`
- üí≥ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ YooKassa
- ‚è∞ –ê–≤—Ç–æ—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–∫–æ—Ä–æ–º –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –∫–ª—é—á–µ–π –∏ –±–æ–Ω—É—Å–æ–≤
- üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞:
  - +3 –¥–Ω—è –∑–∞ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞
  - +20% –¥–Ω–µ–π –æ—Ç –ø–æ–∫—É–ø–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–∞
  - +10 –¥–Ω–µ–π –∑–∞ 3 –ø–ª–∞—Ç—è—â–∏—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–∞
  - +15 –¥–Ω–µ–π –∑–∞ 5 –ø–ª–∞—Ç—è—â–∏—Ö
  - –†–µ—Ñ–µ—Ä–∞–ª –ø–æ–ª—É—á–∞–µ—Ç +3 –¥–Ω—è –∏ –¥–æ +7 –∑–∞ –æ–ø–ª–∞—Ç—É

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/yourname/telegram-vpn-bot.git
   cd telegram-vpn-bot
````

2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r requirements.txt
   ```

3. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª:

   ```env
   TELEGRAM_TOKEN=your_bot_token
   API_URL=https://your.3x-ui.host
   PANEL_USERNAME=admin
   PANEL_PASSWORD=password
   YOOKASSA_ACCOUNT_ID=your_account_id
   YOOKASSA_SECRET_KEY=your_secret
   ADMIN_TG_ID=123456789
   ```

4. –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞:

   ```bash
   python bot.py
   ```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

* `bot.py` ‚Äî –∑–∞–ø—É—Å–∫ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥
* `handlers/` ‚Äî –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
* `services/` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å 3x-ui –∏ YooKassa
* `db.py` ‚Äî SQLite-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
* `scheduler.py` ‚Äî —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–∏—Å—Ç–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π, –±–æ–Ω—É—Å—ã)
* `start.py` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ `/start` –∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π
* `referral.py` ‚Äî –ª–æ–≥–∏–∫–∞ –±–æ–Ω—É—Å–æ–≤ –∏ —Å—Å—ã–ª–æ–∫

## üíº –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–°–æ–∑–¥–∞–π `requirements.txt`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```txt
python-telegram-bot==20.3
requests
python-dotenv
yookassa
pytz
```

–£—Å—Ç–∞–Ω–æ–≤–∏ —á–µ—Ä–µ–∑:

```bash
pip install -r requirements.txt
```

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é:

* [24.txt](https://github.com/fluffystuks)
* [phtea](https://github.com/phtea)

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* Telegram ID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
* –ö–ª—é—á–∏ –∏ –ø–ª–∞—Ç–µ–∂–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
* SESSION\_KEY –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© 24.txt & phtea

## ‚öô –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –Ω–æ–≤—ã–π inbound –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É `inbound_id` –≤ —Ç–∞–±–ª–∏—Ü—É `keys` –∏ –æ—Ç–º–µ—Ç–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏ –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–æ 2 –∏–Ω–±–∞—É–Ω–¥–µ:

```sql
ALTER TABLE keys ADD COLUMN inbound_id INTEGER DEFAULT 1;
UPDATE keys SET inbound_id = 2;
```

### üõ† –ú–∞—Å—Å–æ–≤—ã–π –ø–µ—Ä–µ–Ω–æ—Å –∫–ª—é—á–µ–π

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç `migrate_old_keys.py`, –∫–æ—Ç–æ—Ä—ã–π
—Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—ã–µ –∫–ª—é—á–∏ –≤ inbound 1 –∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç —Å—Ä–æ–∫ —Å—Ç–∞—Ä—ã—Ö –∫–ª—é—á–µ–π –¥–æ 3 –¥–Ω–µ–π.
