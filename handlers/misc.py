from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import CallbackContext

async def instruction_handler(update: Update, context: CallbackContext):
    await update.callback_query.answer()
    tg_id = str(update.effective_user.id)
    keyboard = [[InlineKeyboardButton("üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é", callback_data='back')]]
    markup = InlineKeyboardMarkup(keyboard)
    await update.callback_query.edit_message_text(
        "üìú *–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é VPN:*\n\n"
        "–î–ª—è –≤–∞—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –º—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫–ª—é—á–∞.\n\n"
        "üëâ [–ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏](https://telegra.ph/Instrukciya-po-podklyucheniyu-VPN-klyucha-07-14)",
        parse_mode="Markdown",
        reply_markup=markup
    )

async def rules_handler(update: Update, context: CallbackContext):
    await update.callback_query.answer()
    text = (
        "üìå *–ü—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Pien VPN* üìå\n\n"
        "1Ô∏è‚É£ *–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å* ‚Äî –Ω–∞—à–∞ –≥–ª–∞–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å. –ú—ã –Ω–µ –≤–µ–¥—ë–º –∂—É—Ä–Ω–∞–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–µ—â–µ–Ω–∏–π –∏ –Ω–µ –ø–µ—Ä–µ–¥–∞—ë–º –≤–∞—à–∏ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º.\n\n"
        "2Ô∏è‚É£ *–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –∑–∞–∫–æ–Ω–Ω–æ.* Pien VPN –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∑–∞—â–∏—Ç—ã –≤–∞—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º –∏–ª–∏ –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.\n\n"
        "3Ô∏è‚É£ *–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ.* –ú—ã –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∑–∞—â–∏—Ç—ã, —á—Ç–æ–±—ã –≤–∞—à —Ç—Ä–∞—Ñ–∏–∫ –æ—Å—Ç–∞–≤–∞–ª—Å—è –∑–∞–∫—Ä—ã—Ç—ã–º –æ—Ç –≤–∑–ª–æ–º—â–∏–∫–æ–≤, –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ –ø–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö.\n\n"
        "4Ô∏è‚É£ *–ê–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å –∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å.* –ú—ã –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É –≤—ã —Å–∞–º–∏ –æ—Ç–≤–µ—á–∞–µ—Ç–µ –∑–∞ —Ç–æ, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ VPN.\n\n"
        "5Ô∏è‚É£ *–ß–µ—Å—Ç–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å.* –õ–∏–º–∏—Ç ‚Äî –Ω–µ –±–æ–ª–µ–µ *2 IP‚Äë–∞–¥—Ä–µ—Å–æ–≤ –Ω–∞ –∫–ª—é—á*. –ï—Å–ª–∏ –æ–¥–∏–Ω —é–∑–µ—Ä –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç —Å–µ—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–∞—á–∏–≤–∞–µ—Ç –≥–∏–≥–∞–±–∞–π—Ç—ã –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏), –Ω–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Ä–∞–¥–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö.\n\n"
        "üö´ –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: Pien VPN *–Ω–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è* –∫–∞–∫ —Å—Ä–µ–¥—Å—Ç–≤–æ –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏–ª–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º. –õ—é–±–∞—è —Ä–µ–∫–ª–∞–º–∞ –≤ —Ç–∞–∫–æ–º –∫–ª—é—á–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—Ç —Ä–æ—Å—Å–∏–π—Å–∫–æ–º—É –∑–∞–∫–æ–Ω—É –∏ –º–æ–∂–µ—Ç –ø–æ–≤–ª–µ—á—å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è.\n"
    )

    keyboard = [[InlineKeyboardButton("üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é", callback_data="back")]]
    markup = InlineKeyboardMarkup(keyboard)

    if update.message:
        await update.message.reply_text(text, parse_mode="Markdown", reply_markup=markup)
    else:
        await update.callback_query.edit_message_text(text, parse_mode="Markdown", reply_markup=markup)

async def help_handler(update: Update, context: CallbackContext):
    await update.callback_query.answer()
    tg_id = str(update.effective_user.id)
    keyboard = [[InlineKeyboardButton("üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é", callback_data='back')]]
    markup = InlineKeyboardMarkup(keyboard)
    await update.callback_query.edit_message_text(
        "ü§ù *–†–∞–∑–¥–µ–ª –ø–æ–¥–¥–µ—Ä–∂–∫–∏*\n\n"
        "–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–º–æ—â—å, –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.\n\n"
        "üì≤ [–ù–∞–ø–∏—Å–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É](https://t.me/othrwise)\n"
        f"–í–∞—à TG ID: `{tg_id}`",
        parse_mode="Markdown",
        reply_markup=markup
    )